<!-- Sfondo scuro (overlay) che chiude la modale al click -->
<div class="modal-overlay" (click)="closeModal()"></div>

<!-- Contenuto della modale -->
<div class="modal-content">
  <div class="modal-header">
    <h3>Aggiungi Nuova Transazione</h3>
    <!-- Pulsante di chiusura (X) -->
    <button class="close-button" (click)="closeModal()">Ã—</button>
  </div>
  <div class="modal-body">
    <form [formGroup]="transactionForm" (ngSubmit)="onSubmit()">
      <div class="form-group">
        <label for="amount">Importo</label>
        <input type="number" id="amount" formControlName="amount">
      </div>
      <div class="form-group">
        <label for="date">Data</label>
        <input type="date" id="date" formControlName="date">
      </div>
      <div class="form-group">
        <label for="description">Descrizione</label>
        <input type="text" id="description" formControlName="description">
      </div>
      <div class="form-group">
        <label for="type">Tipo</label>
        <select id="type" formControlName="type">
          @for (type of transactionTypes; track type) {
            <option [value]="type">{{ type }}</option>
          }
        </select>
      </div>
      <div class="form-group">
        <label for="category">Categoria</label>
        <select id="category" formControlName="categoryId">
          <option value="" disabled>Seleziona una categoria</option>
          @for (cat of categories; track cat.id) {
            <option [value]="cat.id">{{ cat.name }}</option>
          }
        </select>
      </div>
      
      @if (errorMessage) {
        <p class="error-message">{{ errorMessage }}</p>
      }

      <button type="submit" class="primary-button" [disabled]="transactionForm.invalid">Aggiungi</button>
    </form>
  </div>
</div>